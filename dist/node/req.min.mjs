/*!
  * @wia/req v1.2.0
  * (c) 2022 Sibyl Yu, Matt Zabriskie and contributors
  * Released under the MIT License.
  */
/*!
  * @wia/req v1.2.0
  * (c) 2022 Sibyl Yu, Matt Zabriskie and contributors
  * Released under the MIT License.
  */
import e from"form-data";import t from"url";import n from"node:http";import r from"node:https";import o from"node:zlib";import s,{Writable as i}from"node:stream";import a from"node:events";import c,{URL as u}from"node:url";import l from"node:assert";function d(e,t){return function(){return e.apply(t,arguments)}}const{toString:p}=Object.prototype,{getPrototypeOf:h}=Object,f=(m=Object.create(null),e=>{const t=p.call(e);return m[t]||(m[t]=t.slice(8,-1).toLowerCase())});var m;const g=e=>(e=e.toLowerCase(),t=>f(t)===e),y=e=>t=>typeof t===e,{isArray:b}=Array,R=y("undefined");const E=g("ArrayBuffer");const w=y("string"),x=y("function"),O=y("number"),_=e=>null!==e&&"object"==typeof e,S=e=>{if("object"!==f(e))return!1;const t=h(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},T=g("Date"),v=g("File"),A=g("Blob"),C=g("FileList"),B=g("URLSearchParams");function L(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),b(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let i;for(r=0;r<s;r++)i=o[r],t.call(null,e[i],i,e)}}function N(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const k="undefined"==typeof self?"undefined"==typeof global?void 0:global:self,j=e=>!R(e)&&e!==k;const U=(P="undefined"!=typeof Uint8Array&&h(Uint8Array),e=>P&&e instanceof P);var P;const D=g("HTMLFormElement"),q=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),F=g("RegExp"),$=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};L(n,((n,o)=>{!1!==t(n,o,e)&&(r[o]=n)})),Object.defineProperties(e,r)};const z={isArray:b,isArrayBuffer:E,isBuffer:function(e){return null!==e&&!R(e)&&null!==e.constructor&&!R(e.constructor)&&x(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||p.call(e)===t||x(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&E(e.buffer),t},isString:w,isNumber:O,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:S,isUndefined:R,isDate:T,isFile:v,isBlob:A,isRegExp:F,isFunction:x,isStream:e=>_(e)&&x(e.pipe),isURLSearchParams:B,isTypedArray:U,isFileList:C,forEach:L,merge:function e(){const{caseless:t}=j(this)&&this||{},n={},r=(r,o)=>{const s=t&&N(n,o)||o;S(n[s])&&S(r)?n[s]=e(n[s],r):S(r)?n[s]=e({},r):b(r)?n[s]=r.slice():n[s]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&L(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(L(t,((t,r)=>{n&&x(t)?e[r]=d(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,s,i;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)i=o[s],r&&!r(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==n&&h(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:f,kindOfTest:g,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(b(e))return e;let t=e.length;if(!O(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:D,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:$,freezeMethods:e=>{$(e,((t,n)=>{if(x(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];x(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return b(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:N,global:k,isContextDefined:j,toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=b(e)?[]:{};return L(e,((e,t)=>{const s=n(e,r+1);!R(s)&&(o[t]=s)})),t[r]=void 0,o}}return e};return n(e,0)},createErrorType:function(e,t,n){function r(n){Error.captureStackTrace(this,this.constructor),Object.assign(this,n||{}),this.code=e,this.message=this.cause?`${t}: ${this.cause.message}`:t}return r.prototype=new(n||Error),r.prototype.constructor=r,r.prototype.name=`Error [${e}]`,r}};function H(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}z.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const I=H.prototype,M={};function J(e){return z.isPlainObject(e)||z.isArray(e)}function W(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function K(e,t,n){return e?e.concat(t).map((function(e,t){return e=W(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{M[e]={value:e}})),Object.defineProperties(H,M),Object.defineProperty(I,"isAxiosError",{value:!0}),H.from=(e,t,n,r,o,s)=>{const i=Object.create(I);return z.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),H.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const V=z.toFlatObject(z,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Q(t,n,r){if(!z.isObject(t))throw new TypeError("target must be an object");n=n||new(e||FormData);const o=(r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!z.isUndefined(t[e])}))).metaTokens,s=r.visitor||d,i=r.dots,a=r.indexes,c=(r.Blob||"undefined"!=typeof Blob&&Blob)&&((u=n)&&z.isFunction(u.append)&&"FormData"===u[Symbol.toStringTag]&&u[Symbol.iterator]);var u;if(!z.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(z.isDate(e))return e.toISOString();if(!c&&z.isBlob(e))throw new H("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(e)||z.isTypedArray(e)?c&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,t,r){let s=e;if(e&&!r&&"object"==typeof e)if(z.endsWith(t,"{}"))t=o?t:t.slice(0,-2),e=JSON.stringify(e);else if(z.isArray(e)&&function(e){return z.isArray(e)&&!e.some(J)}(e)||z.isFileList(e)||z.endsWith(t,"[]")&&(s=z.toArray(e)))return t=W(t),s.forEach((function(e,r){!z.isUndefined(e)&&null!==e&&n.append(!0===a?K([t],r,i):null===a?t:t+"[]",l(e))})),!1;return!!J(e)||(n.append(K(r,t,i),l(e)),!1)}const p=[],h=Object.assign(V,{defaultVisitor:d,convertValue:l,isVisitable:J});if(!z.isObject(t))throw new TypeError("data must be an object");return function e(t,r){if(!z.isUndefined(t)){if(-1!==p.indexOf(t))throw Error("Circular reference detected in "+r.join("."));p.push(t),z.forEach(t,(function(t,o){!0===(!(z.isUndefined(t)||null===t)&&s.call(n,t,z.isString(o)?o.trim():o,r,h))&&e(t,r?r.concat(o):[o])})),p.pop()}}(t),n}function G(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function X(e,t){this._pairs=[],e&&Q(e,this,t)}const Y=X.prototype;function Z(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ee(e,t,n){if(!t)return e;const r=n&&n.encode||Z,o=n&&n.serialize;let s;if(s=o?o(t,n):z.isURLSearchParams(t)?t.toString():new X(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}Y.append=function(e,t){this._pairs.push([e,t])},Y.toString=function(e){const t=e?function(t){return e.call(this,t,G)}:G;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class te{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const ne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},re={isNode:!0,classes:{URLSearchParams:t.URLSearchParams,FormData:e,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]};function oe(e){function t(e,n,r,o){let s=e[o++];const i=Number.isFinite(+s),a=o>=e.length;if(s=!s&&z.isArray(r)?r.length:s,a)return z.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&z.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],o)&&z.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,((e,r)=>{t(function(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const se={"Content-Type":void 0};const ie={transitional:ne,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=z.isObject(e);o&&z.isHTMLForm(e)&&(e=new FormData(e));if(z.isFormData(e))return r&&r?JSON.stringify(oe(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Q(e,new re.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return z.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=z.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Q(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ie.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&z.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw H.from(e,H.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:re.classes.FormData,Blob:re.classes.Blob},validateStatus:e=>e>=200&&e<300,headers:{common:{Accept:"application/json, text/plain, */*"}}};z.forEach(["delete","get","head"],(e=>ie.headers[e]={})),z.forEach(["post","put","patch"],(e=>ie.headers[e]=z.merge(se)));const ae=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ce=Symbol("internals");function ue(e){return e&&String(e).trim().toLowerCase()}function le(e){return!1===e||null==e?e:z.isArray(e)?e.map(le):String(e)}function de(e,t,n,r){return z.isFunction(r)?r.call(this,t,n):z.isString(t)?z.isString(r)?-1!==t.indexOf(r):z.isRegExp(r)?r.test(t):void 0:void 0}let pe=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=ue(t);if(!o)throw new Error("header name must be a non-empty string");const s=z.findKey(r,o);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=le(e))}const s=(e,t)=>z.forEach(e,((e,n)=>o(e,n,t)));return z.isPlainObject(e)||e instanceof this.constructor?s(e,t):z.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?s((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&ae[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=ue(e)){const n=z.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(z.isFunction(t))return t.call(this,e,n);if(z.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ue(e)){const n=z.findKey(this,e);return!(!n||t&&!de(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=ue(e)){const o=z.findKey(n,e);!o||t&&!de(0,n[o],o,t)||(delete n[o],r=!0)}}return z.isArray(e)?e.forEach(o):o(e),r}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const t=this,n={};return z.forEach(this,((r,o)=>{const s=z.findKey(n,o);if(s)return t[s]=le(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();i!==o&&delete t[o],t[i]=le(r),n[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&z.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[ce]=this[ce]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ue(e);t[r]||(!function(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return z.isArray(e)?e.forEach(r):r(e),this}};function he(e,t){const n=this||ie,r=t||n,o=pe.from(r.headers);let{data:s}=r;return z.forEach(e,(e=>{s=e.call(n,s,o.normalize(),t?t.status:void 0)})),o.normalize(),s}function fe(e){return!(!e||!e.__CANCEL__)}function me(e,t,n){H.call(this,null==e?"canceled":e,H.ERR_CANCELED,t,n),this.name="CanceledError"}pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),z.freezeMethods(pe.prototype),z.freezeMethods(pe),z.inherits(me,H,{__CANCEL__:!0});class ge{constructor(e){const{pre:t,env:n}=e;this.pre=null!=t?t:"",this.env=null!=n?n:"";let r=process.env.NODE_DEBUG;if(r&&n){r=r.replaceAll(/\s*,\s*|\s*\uff0c\s*|\s+/g,",");const e=r.split(",");this.debugEnv=e.some((e=>{e=e.trim().replaceAll(".","[.]").replaceAll("*","\\w*");return new RegExp(`\\b${e}\\b`,"i").test(n)}))}}debug(...e){this.debugEnv&&("string"==typeof(null==e?void 0:e[0])?(e[0]=`${this.pre}:${e[0]}`,console.debug(...e)):"object"==typeof(null==e?void 0:e[0])&&console.debug(this.pre,...e))}error(...e){"string"==typeof(null==e?void 0:e[0])?(e[0]=`${this.pre}:${e[0]}`,console.error(...e)):"object"==typeof(null==e?void 0:e[0])&&console.error(this.pre,...e)}warn(...e){"string"==typeof(null==e?void 0:e[0])?(e[0]=`${this.pre}:${e[0]}`,console.warn(...e)):"object"==typeof(null==e?void 0:e[0])&&console.warn(this.pre,...e)}info(...e){this.debug&&("string"==typeof(null==e?void 0:e[0])?(e[0]=`${this.pre}:${e[0]}`,console.info(...e)):"object"==typeof(null==e?void 0:e[0])&&console.info(this.pre,...e))}}const ye=new ge({env:"wia.agent",pre:"HttpsAgent"});class be extends r.Agent{constructor(e){const{proxy:t,proxyRequestOptions:n,tunnel:r,...o}=e;super(o),this.proxy="string"==typeof t?new u(t):t,this.proxyRequestOptions=n||{},this.tunnel=!0}createConnection(e,t){const o={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){const e=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");o.headers["proxy-authorization"]=`Basic ${e}`}"https:"===this.proxy.protocol&&(o.servername=this.proxy.hostname),ye.debug("connection",{proxy:this.proxy,options:e,connOptions:o});const s=("http:"===this.proxy.protocol?n:r).request(o);s.once("connect",((n,r,o)=>{if(ye.warn("onconnect",{statusCode:n.statusCode,head:o}),s.removeAllListeners(),r.removeAllListeners(),200===n.statusCode){const n=super.createConnection({...e,socket:r});t(null,n)}else r.destroy(),t(new Error(`Bad response: ${n.statusCode}`),null)})),s.once("timeout",(()=>{s.destroy(new Error("Proxy timeout"))})),s.once("error",(e=>{s.removeAllListeners(),t(e,null)})),s.end()}}const Re=new ge({env:"wia.agent",pre:"HttpAgent"});class Ee extends n.Agent{constructor(e){const{proxy:t,proxyRequestOptions:n,tunnel:r,...o}=e;super(o),this.proxy="string"==typeof t?new u(t):t,this.proxyRequestOptions=n||{},this.tunnel=r}addRequest(e,t){var n;const r=this;return e.path=`${t.protocol}//${t.hostname}${t.port?":"+t.port:""}${null!==(n=t.path)&&void 0!==n?n:""}`,e.host=`${r.proxy.hostname||r.proxy.host}${t.port?":"+r.proxy.port:""}`,r.proxy.protocol&&(e.protocol=r.proxy.protocol.includes(":")?r.proxy.protocol:`${r.proxy.protocol}:`),e.setHeader("host",`${t.hostname}${t.port?":"+t.port:""}`),e.setHeader("connection",r.keepAlive?"keep-alive":"close"),r.proxyRequestOptions.headers&&Object.keys(r.proxyRequestOptions.headers).forEach((t=>e.setHeader(t,r.proxyRequestOptions.headers[t]))),super.addRequest(e,t)}createConnection(e,t){const o=this;let s;if(o.tunnel){if(s={...o.proxyRequestOptions,method:"CONNECT",host:o.proxy.hostname||o.proxy.host,port:o.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...o.proxyRequestOptions.headers,connection:o.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0},o.proxy.username||o.proxy.password){const e=Buffer.from(`${decodeURIComponent(o.proxy.username||"")}:${decodeURIComponent(o.proxy.password||"")}`).toString("base64");s.headers["proxy-authorization"]=`Basic ${e}`}"https:"===o.proxy.protocol&&(s.servername=o.proxy.hostname),Re.debug("connection",{proxy:o.proxy,options:e,connOpt:s});const i=("http:"===o.proxy.protocol?n:r).request(s);i.once("connect",((e,n,r)=>{Re.warn("onconnect",{statusCode:e.statusCode,head:r}),i.removeAllListeners(),n.removeAllListeners(),200===e.statusCode?t(null,n):(n.destroy(),t(new Error(`Bad response: ${e.statusCode}`),null))})),i.once("timeout",(()=>{i.destroy(new Error("Proxy timeout"))})),i.once("error",(e=>{i.removeAllListeners(),t(e,null)})),i.end()}else{s={host:o.proxy.hostname||o.proxy.host,port:o.proxy.port},Re.debug("createConnection",{options:e,connOpt:s});const n=super.createConnection(s,(()=>{Re.warn("onconnect tunnel.",{tunnel:o.tunnel,proxy:o.proxy}),t(null,n)}))}}}class we{constructor(e){const t={tunnel:!1,...e};this.http=new Ee(t);const n={...e,tunnel:!0};this.https=new be(n)}}const xe=new ge({env:"wia.redirect",pre:"RedirectReq"}),Oe={"http:":n,"https:":r},_e=["abort","aborted","connect","error","socket","timeout"],Se=Object.create(null);_e.forEach((e=>Se[e]=function(...t){xe.debug("event",{ev:e}),this.redirectReq.emit(e,...t)}));const Te=z.createErrorType("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),ve=z.createErrorType("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),Ae=z.createErrorType("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Ce=z.createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");class Be extends i{constructor(e,t,n){super();const r=this;r.redirect=e,r._sanitizeOptions(t),r._options=t,r._ended=!1,r._ending=!1,r._redirectCount=0,r._redirects=[],r._requestBodyLength=0,r._requestBodyBuffers=[],n&&r.on("response",n),r._onNativeResponse=e=>r.processResponse(e),["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((e=>{r[e]=(t,n)=>{xe.debug(e,{a:t,b:n}),r._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((e=>{Object.defineProperty(r,e,{get(){const t=r._currentRequest[e];return xe.debug("get property",{property:e}),t}})})),r.request()}request(){let e=null;try{const t=this;let{protocol:n}=t._options;const{agents:r}=t._options;if(r){const e=n.slice(0,-1);t._options.agent=r[e]}"http:"===n&&r.http&&(n=r.http.proxy&&!r.http.tunnel?r.http.proxy.protocol:n);const o=Oe[n];if(!o)return t.emit("error",new TypeError(`Unsupported protocol: ${n}`)),null;xe.debug("request",{options:t._options,protocol:n});const s=o.request(t._options,t._onNativeResponse);if(t._currentRequest=s,s.redirectReq=t,_e.forEach((e=>s.on(e,Se[e]))),t._currentUrl=/^\//.test(t._options.path)?c.format(t._options):t._options.path,t._isRedirect){let e=0;const n=t._requestBodyBuffers;!function r(o){if(s===t._currentRequest)if(o)t.emit("error",o);else if(e<n.length){const t=n[e++];s.finished||s.write(t.data,t.encoding,r)}else t._ended&&s.end()}()}e=s}catch(e){console.error(` exp:${e.message}`)}return e}abort(){Le(this._currentRequest),this.emit("abort")}write(e,t,n){const r=this;if(xe.debug("write",{data:e,encoding:t,callback:n}),r._ending)throw new Ce;if(!z.isString(e)&&!z.isBuffer(e))throw new TypeError("data should be a string, Buffer or Uint8Array");z.isFunction(t)&&(n=t,t=null),0!==e.length?r._requestBodyLength+e.length<=r._options.maxBodyLength?(r._requestBodyLength+=e.length,r._requestBodyBuffers.push({data:e,encoding:t}),r._currentRequest.write(e,t,n)):(r.emit("error",new Ae),r.abort()):n&&n()}end(e,t,n){const r=this;if(z.isFunction(e)?(n=e,e=null,t=null):z.isFunction(t)&&(n=t,t=null),e){const o=r._currentRequest;r.write(e,t,(function(){r._ended=!0,o.end(null,null,n)})),r._ending=!0}else r._ended=!0,r._ending=!0,r._currentRequest.end(null,null,n)}setHeader(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)}removeHeader(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)}setTimeout(e,t){const n=this;function r(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function o(t){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),s()}),e),r(t)}function s(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",s),n.removeListener("error",s),n.removeListener("response",s),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",o)}return t&&n.on("timeout",t),n.socket?o(n.socket):n._currentRequest.once("socket",o),n.on("socket",r),n.on("abort",s),n.on("error",s),n.on("response",s),n}_sanitizeOptions(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){const t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}}processResponse(e){const t=this,{statusCode:n}=e;t._options.trackRedirects&&t._redirects.push({url:t._currentUrl,headers:e.headers,statusCode:n});const{location:r}=e.headers;if(xe.debug("processResponse",{statusCode:n,headers:e.headers}),!r||!1===t._options.followRedirects||n<300||n>=400)return e.responseUrl=t._currentUrl,e.redirects=t._redirects,t.emit("response",e),void(t._requestBodyBuffers=[]);if(Le(t._currentRequest),e.destroy(),++t._redirectCount>t._options.maxRedirects)return void t.emit("error",new ve);let o;const{beforeRedirect:s}=t._options;s&&(o={Host:e.req.getHeader("host"),...t._options.headers});const{method:i}=t._options;((301===n||302===n)&&"POST"===t._options.method||303===n&&!/^(?:GET|HEAD)$/.test(t._options.method))&&(t._options.method="GET",t._requestBodyBuffers=[],Ne(/^content-/i,t._options.headers));const a=Ne(/^host$/i,t._options.headers),u=c.parse(t._currentUrl),d=a||u.host,p=/^\w+:/.test(r)?t._currentUrl:c.format(Object.assign(u,{host:d}));let h;try{h=c.resolve(p,r)}catch(e){return void t.emit("error",new Te({cause:e}))}xe.debug("redirecting to",{redirectUrl:h}),t._isRedirect=!0;const f=c.parse(h);if(Object.assign(t._options,f),(f.protocol!==u.protocol&&"https:"!==f.protocol||f.host!==d&&!function(e,t){l(z.isString(e)&&z.isString(t));const n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(f.host,d))&&Ne(/^(?:authorization|cookie)$/i,this._options.headers),z.isFunction(s)){const r={headers:e.headers,statusCode:n},a={url:p,method:i,headers:o};try{s(t._options,r,a)}catch(e){return void t.emit("error",e)}t._sanitizeOptions(t._options)}try{t.request()}catch(e){t.emit("error",new Te({cause:e}))}}}function Le(e){_e.forEach((t=>e.removeListener(t,Se[t]))),e.on("error",z.noop),e.abort()}function Ne(e,t){let n;return Object.keys(t).forEach((r=>{e.test(r)&&(n=t[r],delete t[r])})),null==n?void 0:String(n).trim()}const ke=new ge({env:"wia.redirect",pre:"Redirect"}),{URL:je}=c,Ue=z.createErrorType("ERR_INVALID_URL","Invalid URL",TypeError);class Pe{constructor(e){var t,n;this.maxRedirects=null!==(t=null==e?void 0:e.maxRedirects)&&void 0!==t?t:21,this.maxBodyLength=null!==(n=null==e?void 0:e.maxBodyLength)&&void 0!==n?n:10485760}request(e,t,n){const r=this;let o=null;try{if(z.isString(e)){let t;try{t=De(new je(e))}catch(n){t=c.parse(e)}if(!z.isString(t.protocol))throw new Ue({input:e});e=t}else je&&e instanceof je?e=De(e):(n=t,t=e,e={});z.isFunction(t)&&(n=t,t=null),t={maxRedirects:r.maxRedirects,maxBodyLength:r.maxBodyLength,...e,...t},z.isString(t.host)||z.isString(t.hostname)||(t.hostname="::1"),ke.debug("request",{options:t}),this.options=t,this.callback=n,o=new Be(r,t,n)}catch(e){ke.error(`request exp:${e.message}`)}return o}get(e,t,n){const r=this.request(e,t,n);return r.end(),r}}function De(e){const t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function qe(e,t,n){const{validateStatus:r}=n.config;n.status&&r&&!r(n.status)?t(new H(`Request failed with status code ${n.status}`,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}function Fe(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function $e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const ze=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function He(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,s=0,i=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=r[i];o||(o=c),n[s]=a,r[s]=c;let l=i,d=0;for(;l!==s;)d+=n[l++],l%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(1e3*d/p):void 0}}const Ie=Symbol("internals");class Me extends s.Transform{constructor(e){super({readableHighWaterMark:(e=z.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,((e,t)=>!z.isUndefined(t[e])))).chunkSize});const t=this,n=this[Ie]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},r=He(n.ticksRate*e.samplesCount,n.timeWindow);this.on("newListener",(e=>{"progress"===e&&(n.isCaptured||(n.isCaptured=!0))}));let o=0;n.updateProgress=function(e,t){let n=0;const r=1e3/t;let o=null;return function(t,s){const i=Date.now();if(t||i-n>r)return o&&(clearTimeout(o),o=null),n=i,e.apply(null,s);o||(o=setTimeout((()=>(o=null,n=Date.now(),e.apply(null,s))),r-(i-n)))}}((function(){const e=n.length,s=n.bytesSeen,i=s-o;if(!i||t.destroyed)return;const a=r(i);o=s,process.nextTick((()=>{t.emit("progress",{loaded:s,total:e,progress:e?s/e:void 0,bytes:i,rate:a||void 0,estimated:a&&e&&s<=e?(e-s)/a:void 0})}))}),n.ticksRate);const s=()=>{n.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){const t=this[Ie];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,n){const r=this,o=this[Ie],s=o.maxRate,i=this.readableHighWaterMark,a=o.timeWindow,c=s/(1e3/a),u=!1!==o.minChunkSize?Math.max(o.minChunkSize,.01*c):0;const l=(e,t)=>{const n=Buffer.byteLength(e);let l,d=null,p=i,h=0;if(s){const e=Date.now();(!o.ts||(h=e-o.ts)>=a)&&(o.ts=e,l=c-o.bytes,o.bytes=l<0?-l:0,h=0),l=c-o.bytes}if(s){if(l<=0)return setTimeout((()=>{t(null,e)}),a-h);l<p&&(p=l)}p&&n>p&&n-p>u&&(d=e.subarray(p),e=e.subarray(0,p)),function(e,t){const n=Buffer.byteLength(e);o.bytesSeen+=n,o.bytes+=n,o.isCaptured&&o.updateProgress(),r.push(e)?process.nextTick(t):o.onReadCallback=()=>{o.onReadCallback=null,process.nextTick(t)}}(e,d?()=>{process.nextTick(t,null,d)}:t)};l(e,(function e(t,r){if(t)return n(t);r?l(r,e):n(null)}))}setLength(e){return this[Ie].length=+e,this}}const Je=new ge({env:"wia.req",pre:"HttpAdapter"}),We=z.isFunction(o.createBrotliDecompress),Ke=/https:?/,Ve=re.protocols.map((e=>`${e}:`));function Qe(e){Je.debug("dispatchBeforeRedirect",{opts:e.beforeRedirects}),e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e)}const Ge="undefined"!=typeof process&&"process"===z.kindOf(process)&&function(e){const t=this;return Je.debug("request",{config:e}),new Promise(((i,c)=>{let{data:u}=e;const{responseType:l,responseEncoding:d}=e,p=e.method.toUpperCase();let h,f,m,g=!1;const y=new a;function b(){h||(h=!0,e.cancelToken&&e.cancelToken.unsubscribe(x),e.signal&&e.signal.removeEventListener("abort",x),y.removeAllListeners())}function R(e,t){f||(f=!0,t&&(g=!0,b()),t?c(e):i(e))}const E=e=>R(e),w=e=>R(e,!0);function x(t){y.emit("abort",!t||t.type?new me(null,e,m):t)}y.once("abort",w),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(x),e.signal&&(e.signal.aborted?x():e.signal.addEventListener("abort",x)));const O=Fe(e.baseURL,e.url),_=new URL(O),S=_.protocol||Ve[0];if("data:"===S){let t;if("GET"!==p)return qe(E,w,{status:405,statusText:"method not allowed",headers:{},config:e});try{t=function(e,t,n){const r=n&&n.Blob||re.classes.Blob,o=$e(e);if(void 0===t&&r&&(t=!0),"data"===o){e=o.length?e.slice(o.length+1):e;const n=ze.exec(e);if(!n)throw new H("Invalid URL",H.ERR_INVALID_URL);const s=n[1],i=n[2],a=n[3],c=Buffer.from(decodeURIComponent(a),i?"base64":"utf8");if(t){if(!r)throw new H("Blob is not supported",H.ERR_NOT_SUPPORT);return new r([c],{type:s})}return c}throw new H("Unsupported protocol "+o,H.ERR_NOT_SUPPORT)}(e.url,"blob"===l,{Blob:e.env&&e.env.Blob})}catch(t){throw H.from(t,H.ERR_BAD_REQUEST,e)}return"text"===l?(t=t.toString(d),d&&"utf8"!==d||(u=z.stripBOM(t))):"stream"===l&&(t=s.Readable.from(t)),qe(E,w,{data:t,status:200,statusText:"OK",headers:new pe,config:e})}if(-1===Ve.indexOf(S))return w(new H("Unsupported protocol "+S,H.ERR_BAD_REQUEST,e));const T=pe.from(e.headers).normalize();T.set("User-Agent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 Edg/107.0.1418.35",!1);const{onDownloadProgress:v,onUploadProgress:A,maxRate:C}=e;let B,L;if(z.isFormData(u)&&z.isFunction(u.getHeaders))T.set(u.getHeaders());else if(u&&!z.isStream(u)){if(Buffer.isBuffer(u));else if(z.isArrayBuffer(u))u=Buffer.from(new Uint8Array(u));else{if(!z.isString(u))return w(new H("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",H.ERR_BAD_REQUEST,e));u=Buffer.from(u,"utf-8")}if(T.set("Content-Length",u.length,!1),e.maxBodyLength>-1&&u.length>e.maxBodyLength)return w(new H("Request body larger than maxBodyLength limit",H.ERR_BAD_REQUEST,e))}const N=+T.getContentLength();let k,j;if(z.isArray(C)?[B,L]=C:(B=C,L=C),u&&(A||B)&&(z.isStream(u)||(u=s.Readable.from(u,{objectMode:!1})),u=s.pipeline([u,new Me({length:z.toFiniteNumber(N),maxRate:z.toFiniteNumber(B)})],z.noop),A&&u.on("progress",(e=>{A(Object.assign(e,{upload:!0}))}))),e.auth){k=`${e.auth.username||""}:${e.auth.password||""}`}if(!k&&_.username){k=`${_.username}:${_.password}`}k&&T.delete("authorization");try{j=ee(_.pathname+_.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(t){const n=new Error(t.message);return n.config=e,n.url=e.url,n.exists=!0,w(n)}T.set("Accept-Encoding","gzip, deflate, br",!1);const U={path:j,method:p,headers:T.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:k,protocol:S,beforeRedirect:Qe.bind(t),beforeRedirects:{}};let P;e.socketPath?U.socketPath=e.socketPath:(U.hostname=_.hostname,U.port=_.port,e.agent&&(U.agents=new we(e.agent)));const D=Ke.test(U.protocol);if(U.agent=D?e.httpsAgent:e.httpAgent,e.maxBodyLength>-1?U.maxBodyLength=e.maxBodyLength:U.maxBodyLength=1/0,e.transport?P=e.transport:0===e.maxRedirects?P=D?r:n:(e.maxRedirects&&(U.maxRedirects=e.maxRedirects),e.beforeRedirect&&(U.beforeRedirects.config=e.beforeRedirect),P=new Pe({maxRedirects:U.maxRedirects,maxBodyLength:U.maxBodyLength})),e.insecureHTTPParser&&(U.insecureHTTPParser=e.insecureHTTPParser),m=P.request(U,(t=>{if(m.destroyed)return;const n=[t],r=+t.headers["content-length"];Je.debug("onresponse",{statusCode:t.statusCode,responseLength:r,headers:t.headers});let i=t;const a=t.req||m;if(v){const e=new Me({length:z.toFiniteNumber(r),maxRate:z.toFiniteNumber(L)});v&&e.on("progress",(e=>{v(Object.assign(e,{download:!0}))})),n.push(e)}const c=(u=t.statusCode,"HEAD"===p||u>=100&&u<200||204===u||304===u);var u;if(!1!==e.decompress)switch(c&&t.headers["content-encoding"]&&delete t.headers["content-encoding"],t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n.push(o.createUnzip()),delete t.headers["content-encoding"];break;case"br":We&&(n.push(o.createBrotliDecompress()),delete t.headers["content-encoding"])}i=n.length>1?s.pipeline(n,z.noop):n[0];const h=s.finished(i,(()=>{h(),b()})),f={status:t.statusCode,statusText:t.statusMessage,headers:new pe(t.headers),config:e,request:a};if("stream"===l)f.data=i,qe(E,w,f);else{const t=[];let n=0;i.on("data",(function(r){t.push(r),n+=r.length,e.maxContentLength>-1&&n>e.maxContentLength&&(g=!0,i.destroy(),w(new H("maxContentLength size of "+e.maxContentLength+" exceeded",H.ERR_BAD_RESPONSE,e,a)))})),i.on("aborted",(function(){if(g)return;const t=new H("maxContentLength size of "+e.maxContentLength+" exceeded",H.ERR_BAD_RESPONSE,e,a);i.destroy(t),w(t)})),i.on("error",(function(t){m.destroyed||w(H.from(t,null,e,a))})),i.on("end",(function(){try{let e=1===t.length?t[0]:Buffer.concat(t);"arraybuffer"!==l&&(e=e.toString(d),d&&"utf8"!==d||(e=z.stripBOM(e))),f.data=e}catch(t){w(H.from(t,null,e,f.request,f))}qe(E,w,f)}))}y.once("abort",(e=>{i.destroyed||(i.emit("error",e),i.destroy())}))})),!m)return w(new H("Request failed.",H.ERR_BAD_REQUEST,e));if(y.once("abort",(e=>{Je.debug("onabort"),w(e),m.destroy(e)})),m.on("error",(t=>{Je.debug("onerror"),w(H.from(t,null,e,m))})),m.on("socket",(e=>{Je.debug("onsocket"),e.setKeepAlive(!0,6e4)})),e.timeout){const t=parseInt(e.timeout,10);if(Number.isNaN(t))return void w(new H("error trying to parse `config.timeout` to int",H.ERR_BAD_OPTION_VALUE,e,m));m.setTimeout(t,(()=>{if(f)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||ne;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),w(new H(t,n.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,m)),x()}))}if(z.isStream(u)){let t=!1,n=!1;u.on("end",(()=>{t=!0})),u.once("error",(e=>{n=!0,m.destroy(e)})),u.on("close",(()=>{t||n||x(new me("Request stream has been aborted",e,m))})),u.pipe(m)}else m.end(u)}))},Xe=re.isStandardBrowserEnv?{write:function(e,t,n,r,o,s){const i=[];i.push(e+"="+encodeURIComponent(t)),z.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),z.isString(r)&&i.push("path="+r),z.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Ye=re.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=z.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Ze(e,t){let n=0;const r=He(50,250);return o=>{const{loaded:s}=o,i=o.lengthComputable?o.total:void 0,a=s-n,c=r(a);n=s;const u={loaded:s,total:i,progress:i?s/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&s<=i?(i-s)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const et={http:Ge,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(((t,n)=>{const{data:r,responseType:o}=e,s=pe.from(e.headers).normalize();let i;function a(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}z.isFormData(r)&&re.isStandardBrowserEnv&&s.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(t+":"+n))}const u=Fe(e.baseURL,e.url);function l(){if(!c)return;const r=pe.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());qe((function(e){t(e),a()}),(function(e){n(e),a()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),ee(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(n(new H("Request aborted",H.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new H("Network Error",H.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||ne;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new H(t,r.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,c)),c=null},re.isStandardBrowserEnv){const t=(e.withCredentials||Ye(u))&&e.xsrfCookieName&&Xe.read(e.xsrfCookieName);t&&s.set(e.xsrfHeaderName,t)}void 0===r&&s.setContentType(null),"setRequestHeader"in c&&z.forEach(s.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),z.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",Ze(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Ze(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{c&&(n(!t||t.type?new me(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const d=$e(u);d&&-1===re.protocols.indexOf(d)?n(new H("Unsupported protocol "+d+":",H.ERR_BAD_REQUEST,e)):c.send(r||null)}))}};z.forEach(et,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const tt=e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let o=0;o<t&&(n=e[o],!(r=z.isString(n)?et[n.toLowerCase()]:n));o++);if(!r){if(!1===r)throw new H(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(z.hasOwnProp(et,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!z.isFunction(r))throw new TypeError("adapter is not a function");return r};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new me(null,e)}function rt(e){nt(e),e.headers=pe.from(e.headers),e.data=he.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tt(e.adapter||ie.adapter).call(this,e).then((t=>(nt(e),t.data=he.call(e,e.transformResponse,t),t.data&&!t.body&&(t.body=t.data),t.headers=pe.from(t.headers),t)),(t=>(fe(t)||(nt(e),t&&t.response&&(t.response.data=he.call(e,e.transformResponse,t.response),t.response.headers=pe.from(t.response.headers))),Promise.reject(t))))}const ot=e=>e instanceof pe?e.toJSON():e;function st(e,t){t=t||{};const n={};function r(e,t,n){return z.isPlainObject(e)&&z.isPlainObject(t)?z.merge.call({caseless:n},e,t):z.isPlainObject(t)?z.merge({},t):z.isArray(t)?t.slice():t}function o(e,t,n){return z.isUndefined(t)?z.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!z.isUndefined(t))return r(void 0,t)}function i(e,t){return z.isUndefined(t)?z.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,s){return s in t?r(n,o):s in e?r(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t)=>o(ot(e),ot(t),!0)};return z.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){const s=c[r]||o,i=s(e[r],t[r],r);z.isUndefined(i)&&s!==a||(n[r]=i)})),n}const it={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{it[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const at={};it.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,s)=>{if(!1===e)throw new H(r(o," has been removed"+(t?" in "+t:"")),H.ERR_DEPRECATED);return t&&!at[o]&&(at[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}};const ct={assertOptions:function(e,t,n){if("object"!=typeof e)throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const s=r[o],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new H("option "+s+" must be "+n,H.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new H("Unknown option "+s,H.ERR_BAD_OPTION)}},validators:it},{validators:ut}=ct;let lt=class{constructor(e){this.defaults=e,this.config=this.defaults,this.interceptors={request:new te,response:new te},this.init()}init(){const e=this;["url","method","baseURL","transformRequest","transformResponse","headers","params","paramsSerializer","body","data","timeout","withCredentials","adapter","auth","responseType","responseEncoding","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","maxBodyLength","validateStatus","maxRedirects","beforeRedirect","socketPath","httpAgent","httpsAgent","agent","cancelToken","signal","decompress","insecureHTTPParser","transitional","env","formSerializer","maxRate"].forEach((t=>Object.defineProperty(e,t,{enumerable:!0,get:()=>e.config[t],set(n){e.config[t]=n}})))}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},!t.data&&t.body&&(t.data=t.body,delete t.body),t=st(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&ct.assertOptions(n,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),void 0!==r&&ct.assertOptions(r,{encode:ut.function,serialize:ut.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();const s=o&&z.merge(o.common,o[t.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=pe.concat(s,o);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,d=0;if(!a){const e=[rt.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);d<l;)u=u.then(e[d++],e[d++]);return u}l=i.length;let p=t;for(d=0;d<l;){const e=i[d++],t=i[d++];try{p=e(p)}catch(e){t.call(this,e);break}}try{u=rt.call(this,p)}catch(e){return Promise.reject(e)}for(d=0,l=c.length;d<l;)u=u.then(c[d++],c[d++]);return u}getUri(e){return ee(Fe((e=st(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}};z.forEach(["head","options"],(function(e){lt.prototype[e]=function(t,n){return this.request(st(n||{},{method:e,url:t,data:(n||{}).data}))}})),z.forEach(["delete","get"],(function(e){lt.prototype[e]=function(t,n,r){return this.request(st(r||{},{method:e,url:t,params:n,data:(r||{}).data}))}})),z.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(st(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}lt.prototype[e]=t(),lt.prototype[`${e}Form`]=t(!0)}));let dt=class{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new me(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new dt((function(t){e=t})),cancel:e}}};const pt=function e(t){const n=new lt(t),r=d(lt.prototype.request,n);return z.extend(r,lt.prototype,n,{allOwnKeys:!0}),z.extend(r,n,null,{allOwnKeys:!0}),r.create=n=>e(st(t,n)),r}(ie);pt.Axios=lt,pt.CanceledError=me,pt.CancelToken=dt,pt.isCancel=fe,pt.VERSION="1.2.0",pt.toFormData=Q,pt.AxiosError=H,pt.Cancel=pt.CanceledError,pt.all=e=>Promise.all(e),pt.spread=function(e){return function(t){return e.apply(null,t)}},pt.isAxiosError=function(e){return z.isObject(e)&&!0===e.isAxiosError},pt.AxiosHeaders=pe,pt.formToJSON=e=>oe(z.isHTMLForm(e)?new FormData(e):e),pt.default=pt;const{Axios:ht,AxiosError:ft,CanceledError:mt,isCancel:gt,CancelToken:yt,VERSION:bt,all:Rt,Cancel:Et,isAxiosError:wt,spread:xt,toFormData:Ot,AxiosHeaders:_t,formToJSON:St}=pt;export{ht as Axios,ft as AxiosError,_t as AxiosHeaders,Et as Cancel,yt as CancelToken,mt as CanceledError,bt as VERSION,Rt as all,pt as default,St as formToJSON,wt as isAxiosError,gt as isCancel,xt as spread,Ot as toFormData};